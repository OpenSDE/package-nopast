# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../pawn/pawn.conf
# Copyright (C) 2008 - 2011 The OpenSDE Project
# Copyright (C) 2004 - 2006 The T2 SDE Project
#
# More information can be found in the files COPYING and README.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- SDE-COPYRIGHT-NOTE-END ---

srcdir="source/compiler"
nocvsinsrcdir=0

makeinstopt=

pkg_pawn_postmake() {
	local majorver="$(echo $ver | cut -d . -f1)" 
	local minorver="$(echo $ver | cut -d . -f2)" 
	# install binaries
	cp -avp pawn{cc,disasm} $root$bindir/
	# install libpawnc
	mv -v libpawnc.so libpawnc.so.$ver
	ln -svf libpawnc.so.$ver libpawnc.so.$majorver.$minorver
	ln -svf libpawnc.so.$majorver.$minorver libpawnc.so.$majorver
	ln -svf libpawnc.so.$majorver libpawnc.so
	cp -avp libpawnc.so* $root$libdir/
	# install include files
	mkdir -p $root$includedir/$pkg
	cp -avp ../../../include/*.inc $root$includedir/$pkg
}

hook_add postmake 5 "pkg_pawn_postmake"

