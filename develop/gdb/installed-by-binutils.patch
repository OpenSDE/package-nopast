# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../gdb/installed-by-binutils.patch
# Copyright (C) 2011 The OpenSDE Project
# Copyright (C) 2004 - 2006 The T2 SDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

From: Christian Wiese <chris@opensde.org>
Date: Fri, 19 Aug 2011 13:10:44 +0200
Subject: [PATCH 1/1] fixed to not install files installed by binutils

Do not install the bfd and opcode libraries and/or other files -
the binutils package supplies them.

  - Clifford Wolf & Rene Rebe
  - rediffed for gdb 6.3 by Valentin Ziegler
  - re-rediffed for gdb 6.4 by Rene Rebe
  - re-rediffed for gdb 6.5 by Aldas Nabazas
  - re-rediffed for gdb 7.3 by Christian Wiese
---
 bfd/Makefile.in       |    3 +--
 etc/Makefile.in       |    2 +-
 libiberty/Makefile.in |    2 +-
 opcodes/Makefile.in   |    2 +-
 4 files changed, 4 insertions(+), 5 deletions(-)

diff --git gdb-7.3/bfd/Makefile.in gdb-7.3/bfd/Makefile.in
index 2cbf6a0..178aeb8 100644
--- gdb-7.3/bfd/Makefile.in
+++ gdb-7.3/bfd/Makefile.in
@@ -323,7 +323,7 @@ ACLOCAL_AMFLAGS = -I . -I .. -I ../config
 # RELEASE=y
 INCDIR = $(srcdir)/../include
 CSEARCH = -I. -I$(srcdir) -I$(INCDIR)
-SUBDIRS = doc po
+SUBDIRS = doc
 bfddocdir = doc
 libbfd_la_LDFLAGS = $(am__append_1) -release `cat libtool-soversion` \
 	@SHARED_LDFLAGS@ $(am__empty)
@@ -1689,7 +1689,6 @@ installdirs-am:
 	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
 	done
 install: $(BUILT_SOURCES)
-	$(MAKE) $(AM_MAKEFLAGS) install-recursive
 install-exec: install-exec-recursive
 install-data: install-data-recursive
 uninstall: uninstall-recursive
diff --git gdb-7.3/etc/Makefile.in gdb-7.3/etc/Makefile.in
index 0d19c13..31681a1 100644
--- gdb-7.3/etc/Makefile.in
+++ gdb-7.3/etc/Makefile.in
@@ -64,7 +64,7 @@ PDFFILES = standards.pdf configure.pdf
 HTMLFILES = standards.html configure.html
 
 all: info
-install install-strip: install-info
+install install-strip:
 
 uninstall:
 
diff --git gdb-7.3/libiberty/Makefile.in gdb-7.3/libiberty/Makefile.in
index ef35453..39ed818 100644
--- gdb-7.3/libiberty/Makefile.in
+++ gdb-7.3/libiberty/Makefile.in
@@ -340,7 +340,7 @@ libiberty.html : $(srcdir)/libiberty.texi $(TEXISRC)
 @MAINT@	echo stamp > stamp-functions
 
 INSTALL_DEST = @INSTALL_DEST@
-install: install_to_$(INSTALL_DEST) install-subdir
+install:
 install-strip: install
 
 .PHONY: install install-strip
diff --git gdb-7.3/opcodes/Makefile.in gdb-7.3/opcodes/Makefile.in
index 8928b1b..1743afe 100644
--- gdb-7.3/opcodes/Makefile.in
+++ gdb-7.3/opcodes/Makefile.in
@@ -1057,7 +1057,7 @@ installdirs-am:
 	for dir in "$(DESTDIR)$(bfdlibdir)" "$(DESTDIR)$(bfdincludedir)"; do \
 	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
 	done
-install: install-recursive
+install: 
 install-exec: install-exec-recursive
 install-data: install-data-recursive
 uninstall: uninstall-recursive
-- 
1.7.2.3

