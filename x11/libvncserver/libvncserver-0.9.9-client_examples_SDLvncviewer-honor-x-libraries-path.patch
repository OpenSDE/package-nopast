# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../libvncserver/libvncserver-0.9.9-client_examples_SDLvncviewer-honor-x-libraries-path.patch
# Copyright (C) 2012 The OpenSDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

The Makefile doesn't honor if the configure option --x-libraries is used to set
a non-standard path to the X libraries, leading to linking errors when trying to
link against libx11.

--- LibVNCServer-0.9.9/client_examples/Makefile.am.orig	2012-06-26 17:05:54.029070046 +0200
+++ LibVNCServer-0.9.9/client_examples/Makefile.am	2012-06-26 17:02:02.717456204 +0200
@@ -21,7 +21,7 @@
 SDLvncviewer_SOURCES=SDLvncviewer.c scrap.c scrap.h
 
 if HAVE_X11
-X11_LIB=-lX11
+X11_LIB=$(X_LIBS) -lX11
 endif
 
 # thanks to autoconf, this looks ugly
--- LibVNCServer-0.9.9/client_examples/Makefile.in.orig	2012-06-26 17:02:12.226652758 +0200
+++ LibVNCServer-0.9.9/client_examples/Makefile.in	2012-06-26 17:02:52.779550667 +0200
@@ -273,7 +275,7 @@
 @HAVE_LIBSDL_TRUE@SDLVIEWER = SDLvncviewer
 @HAVE_LIBSDL_TRUE@SDLvncviewer_CFLAGS = $(SDL_CFLAGS)
 @HAVE_LIBSDL_TRUE@SDLvncviewer_SOURCES = SDLvncviewer.c scrap.c scrap.h
-@HAVE_LIBSDL_TRUE@@HAVE_X11_TRUE@X11_LIB = -lX11
+@HAVE_LIBSDL_TRUE@@HAVE_X11_TRUE@X11_LIB = $(X_LIBS) -lX11
 
 # thanks to autoconf, this looks ugly
 @HAVE_LIBSDL_TRUE@SDLvncviewer_LDADD = $(LDADD) $(SDL_LIBS) $(X11_LIB)
