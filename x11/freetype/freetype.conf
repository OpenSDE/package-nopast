# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../freetype/freetype.conf
# Copyright (C) 2007 - 2012 The OpenSDE Project
# Copyright (C) 2004 - 2006 The T2 SDE Project
#
# More information can be found in the files COPYING and README.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- SDE-COPYRIGHT-NOTE-END ---

# do not generate object code into .lo but .o files as requested by libtool
hook_add premake 3 \
	 "sed -i -e 's,^\(O[ \t]*\:\=\) lo,\1 o,' builds/unix/unix-cc.mk"

# Dan Burcaw - Yellow Dog Linux
# http://www.freetype.org/pipermail/devel/2004-March/010293.html
var_append GCC_WRAPPER_INSERT " " "-fno-strict-aliasing"

# hack to make it build at toolchain stage
if atstage toolchain; then
	makeopt=
	makeinstopt="install"
	# only tested on x86-64 build host and might need some adjustments
	# for other build host architectures
	var_append extraconfopt ' ' "--with-pic"
fi
