# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../lprng/no_multiline_in_makefile.patch
# Copyright (C) 2006 The OpenSDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

I don't understand it but this makefile doesn't support multiline
shell commands, so i merged them.

--- ./Makefile.in.orig	2004-09-24 16:19:52.000000000 -0400
+++ ./Makefile.in	2006-09-28 06:12:31.000000000 -0400
@@ -92,23 +92,13 @@
 	@echo "MANDIR=$(mandir)" >>$@
 
 ./postinstall: $(SCRIPTS) Makefile
-	OSNAME=@OSNAME@; case "@OSNAME@" in \
-	 *linux* ) OSNAME=linux;; \
-	 *freebsd* ) OSNAME=freebsd;; \
-	 *solaris* ) OSNAME=solaris;; \
-	esac; \
-	if test -f postinstall.$${OSNAME} ; then s=postinstall.$${OSNAME} ; else s=postinstall.generic; fi; \
-	echo POSTINSTALL "'$$s'"; cp $$s postinstall;
+	OSNAME=@OSNAME@; case "@OSNAME@" in *linux* ) OSNAME=linux;; *freebsd* ) OSNAME=freebsd;; *solaris* ) OSNAME=solaris;; esac; if test -f postinstall.$${OSNAME} ; then s=postinstall.$${OSNAME} ; else s=postinstall.generic; fi; echo POSTINSTALL "'$$s'"; cp $$s postinstall;
 
 ./preremove: $(SCRIPTS) Makefile
-	OSNAME=@OSNAME@; case "@OSNAME@" in *linux* ) OSNAME=linux;; esac; \
-	if test -f preremove.$${OSNAME} ; then s=preremove.$${OSNAME} ; else s=preremove.generic; fi; \
-	echo PREREMOVE "'$$s'"; cp $$s preremove;
+	OSNAME=@OSNAME@; case "@OSNAME@" in *linux* ) OSNAME=linux;; esac; if test -f preremove.$${OSNAME} ; then s=preremove.$${OSNAME} ; else s=preremove.generic; fi; echo PREREMOVE "'$$s'"; cp $$s preremove;
 
 ./postremove: $(SCRIPTS) Makefile
-	OSNAME=@OSNAME@; case "@OSNAME@" in *linux* ) OSNAME=linux;; esac; \
-	if test -f postremove.$${OSNAME} ; then s=postremove.$${OSNAME} ; else s=postremove.generic; fi; \
-	echo POSTREMOVE "'$$s'"; cp $$s postremove;
+	OSNAME=@OSNAME@; case "@OSNAME@" in *linux* ) OSNAME=linux;; esac; if test -f postremove.$${OSNAME} ; then s=postremove.$${OSNAME} ; else s=postremove.generic; fi; echo POSTREMOVE "'$$s'"; cp $$s postremove;
 
 # define default target
 .PHONY: all warn TAGS clean uninstall install  info dvi check \
@@ -118,20 +108,8 @@
 
 ###############################################################################
 $(ALLDIRS):
-	if [ "$@" = po ] ; then \
-	    for i in po/Makefile* ; do \
-		if [ -f "$$i" ] ; then \
-		    if grep '^mkinstalldirs.*=.*case' $$i ; then \
-			echo "fixing broken $$i which causes wrong path to mkinstalldirs to be used"; \
-			perl -spi -e 's:^mkinstalldirs\s*=\s*.*:mkinstalldirs = \$$(SHELL) \$$(MKINSTALLDIRS):' $$i; \
-		    fi \
-		fi \
-	    done \
-	fi
-	if [ "$@" != po -o "$(USE_NLS)" != "no" ] ; then \
-		cd $@; $(MAKE) localedir=${LOCALEDIR} \
-			DESTDIR=$(DESTDIR) $(MAKETARGET) ; \
-	fi
+	if [ "$@" = po ] ; then for i in po/Makefile* ; do if [ -f "$$i" ] ; then if grep '^mkinstalldirs.*=.*case' $$i ; then echo "fixing broken $$i which causes wrong path to mkinstalldirs to be used"; perl -spi -e 's:^mkinstalldirs\s*=\s*.*:mkinstalldirs = \$$(SHELL) \$$(MKINSTALLDIRS):' $$i; fi fi done fi
+	if [ "$@" != po -o "$(USE_NLS)" != "no" ] ; then cd $@; $(MAKE) localedir=${LOCALEDIR} DESTDIR=$(DESTDIR) $(MAKETARGET) ; fi
 
 TAGS clean::
 	-$(MAKE) MAKETARGET=$@ DESTDIR=$(DESTDIR) $(DIRS)
@@ -143,9 +121,7 @@
 install: all
 	$(MAKE) MAKETARGET=$@ DESTDIR=$(DESTDIR) $(INSTALLDIRS)
 
-	if [ "${POSTINSTALL}" != "NO" -a "${POSTINSTALL}" != "no" ] ; then \
-		MAKEINSTALL=YES DESTDIR=$(DESTDIR) $(SHELL) postinstall ; \
-	fi;
+	if [ "${POSTINSTALL}" != "NO" -a "${POSTINSTALL}" != "no" ] ; then MAKEINSTALL=YES DESTDIR=$(DESTDIR) $(SHELL) postinstall ; fi;
 	@echo "";
 
 info dvi check:
