# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../libpcap/libpcap.conf
# Copyright (C) 2007 - 2013 The OpenSDE Project
# Copyright (C) 2004 - 2006 The T2 SDE Project
# Copyright (C) 1998 - 2003 Clifford Wolf
#
# More information can be found in the files COPYING and README.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- SDE-COPYRIGHT-NOTE-END ---

prefix=
set_confopt

# build and install shared libraries if the target supports it
if [ "$SDECFG_STATIC" != '1' ] ; then
	var_append makeopt ' ' "shared"
	var_append makeinstopt ' ' "install-shared"
	hook_add postmake 6 "cd $root/$libdir; ln -svf libpcap.so{.$ver,}"
fi

# enable IPv6 support by default
var_append confopt ' ' '--enable-ipv6'

hook_add postmake 5 "cp -fv pcap-int.h $root$includedir"

# we need to perform some config hacking for cross compilation ... :-(
if ! atstage native; then
	var_append configcache ' ' 'ac_cv_linux_vers=2'

	var_append confopt " " "--with-pcap=linux"
fi

