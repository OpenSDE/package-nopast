# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../squid/squid.conf
# Copyright (C) 2011 The OpenSDE Project
# Copyright (C) 2004 - 2006 The T2 SDE Project
# Copyright (C) 1998 - 2003 Clifford Wolf
#
# More information can be found in the files COPYING and README.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License. A copy of the
# GNU General Public License can be found in the file COPYING.
# --- SDE-COPYRIGHT-NOTE-END ---

if [ $prefix_auto = 1 ] ; then
	# use a dedicated sysconfdir instead of installing into /etc	
	sysconfdir="$sysconfdir/$pkg"
	# install archtecture independent data into /usr/share/squid
	datadir="$datadir/$pkg"
	# default location for squid logs.
	var_append extraconfopt ' ' "--with-logdir=$localstatedir/log/$pkg"
	# default location for squid PID file
	var_append extraconfopt ' ' "--with-pidfile=$localstatedir/run/$pkg.pid"
fi

# uncomment this to select non-standard storage io modules or replacement policies;
# this is done via variables since extraconfopt will mangle options that include spaces.
# {RS}
#export STOREIOMOD="ufs aufs diskd"
#export POLICYMOD="lru heap"
#extraconfopt="$extraconfopt --enable-async-io=10 --enable-storeio=\"\$STOREIOMOD\" --enable-removal-policies=\"\$POLICYMOD\""

# Add X-Forwarded-For support
var_append confopt ' ' '--enable-follow-x-forwarded-for'
