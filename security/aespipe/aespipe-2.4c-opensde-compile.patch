# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../aespipe/aespipe-2.4c-opensde-compile.patch
# Copyright (C) 2013 The OpenSDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

--- a/Makefile.in	2013-05-03 17:32:25.890545010 +0200
+++ b/Makefile.in	2013-05-03 17:36:50.626852208 +0200
@@ -7,7 +7,11 @@
 #  Redistribution of this file is permitted under the GNU Public License.
 #
 
-CC = @CC@ @CPPFLAGS@ @CFLAGS@ @DEFS@
+CC = @CC@
+CPPFLAGS = @CPPFLAGS@
+CFLAGS = @CFLAGS@
+DEFS = @DEFS@
+COMPILE = $(CC) $(CPPFLAGS) $(CFLAGS) $(DEFS)
 LINK = @CC@ @LDFLAGS@
 STRIP = @STRIP_PROG@
 MD5SUM = @MD5SUM_PROG@
@@ -24,29 +28,29 @@
 aespipe: aespipe.o @OPTIMIZED_OBJS@ sha512.o rmd160.o
 	$(LINK) -o aespipe aespipe.o @OPTIMIZED_OBJS@ sha512.o rmd160.o @LIBS@
 aespipe.o: $(srcdir)/aespipe.c $(srcdir)/aes.h $(srcdir)/md5.h $(srcdir)/sha512.h $(srcdir)/rmd160.h
-	$(CC) -o aespipe.o -c $(srcdir)/aespipe.c
+	$(COMPILE) -o aespipe.o -c $(srcdir)/aespipe.c
 aes.o: $(srcdir)/aes.c $(srcdir)/aes.h
-	$(CC) -DCONFIGURE_DETECTS_BYTE_ORDER=1 -DDATA_ALWAYS_ALIGNED=1 -o aes.o -c $(srcdir)/aes.c
+	$(COMPILE) -DCONFIGURE_DETECTS_BYTE_ORDER=1 -DDATA_ALWAYS_ALIGNED=1 -o aes.o -c $(srcdir)/aes.c
 aes-x86.o: $(srcdir)/aes-x86.S $(srcdir)/aes.h
-	$(CC) -o aes-x86.o -c $(srcdir)/aes-x86.S
+	$(COMPILE) -o aes-x86.o -c $(srcdir)/aes-x86.S
 aes-amd64.o: $(srcdir)/aes-amd64.S $(srcdir)/aes.h
-	$(CC) -o aes-amd64.o -c $(srcdir)/aes-amd64.S
+	$(COMPILE) -o aes-amd64.o -c $(srcdir)/aes-amd64.S
 aes-intel32.o: $(srcdir)/aes-intel32.S $(srcdir)/aes.h
-	$(CC) -o aes-intel32.o -c $(srcdir)/aes-intel32.S
+	$(COMPILE) -o aes-intel32.o -c $(srcdir)/aes-intel32.S
 aes-intel64.o: $(srcdir)/aes-intel64.S $(srcdir)/aes.h
-	$(CC) -o aes-intel64.o -c $(srcdir)/aes-intel64.S
+	$(COMPILE) -o aes-intel64.o -c $(srcdir)/aes-intel64.S
 md5.o: $(srcdir)/md5.c $(srcdir)/md5.h
-	$(CC) -o md5.o -c $(srcdir)/md5.c
+	$(COMPILE) -o md5.o -c $(srcdir)/md5.c
 md5-x86.o: $(srcdir)/md5-x86.S $(srcdir)/md5.h
-	$(CC) -o md5-x86.o -c $(srcdir)/md5-x86.S
+	$(COMPILE) -o md5-x86.o -c $(srcdir)/md5-x86.S
 md5-amd64.o: $(srcdir)/md5-amd64.S $(srcdir)/md5.h
-	$(CC) -o md5-amd64.o -c $(srcdir)/md5-amd64.S
+	$(COMPILE) -o md5-amd64.o -c $(srcdir)/md5-amd64.S
 md5-2x-amd64.o: $(srcdir)/md5-2x-amd64.S $(srcdir)/md5.h
-	$(CC) -o md5-2x-amd64.o -c $(srcdir)/md5-2x-amd64.S
+	$(COMPILE) -o md5-2x-amd64.o -c $(srcdir)/md5-2x-amd64.S
 sha512.o: $(srcdir)/sha512.c $(srcdir)/sha512.h
-	$(CC) -o sha512.o -c $(srcdir)/sha512.c
+	$(COMPILE) -o sha512.o -c $(srcdir)/sha512.c
 rmd160.o: $(srcdir)/rmd160.c $(srcdir)/rmd160.h
-	$(CC) -o rmd160.o -c $(srcdir)/rmd160.c
+	$(COMPILE) -o rmd160.o -c $(srcdir)/rmd160.c
 
 clean:
 	rm -f *.o aespipe test-file[12345] config.log config.status configure.lineno
