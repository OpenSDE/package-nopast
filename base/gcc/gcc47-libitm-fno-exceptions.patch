# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../gcc/gcc47-libitm-fno-exceptions.patch
# Copyright (C) 2012 The OpenSDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

2011-12-22  Jakub Jelinek  <jakub@redhat.com>

	* Makefile.am (beginend.lo): Append -fno-exceptions to
	CXXFLAGS.
	* Makefile.in: Regenerated.

--- a/libitm/Makefile.am	2011-12-20 13:47:57.000000000 +0100
+++ b/libitm/Makefile.am	2011-12-22 09:14:06.663469165 +0100
@@ -72,6 +72,8 @@ endif
 if ARCH_X86_AVX
 x86_avx.lo : XCFLAGS += -mavx
 endif
+beginend.lo : CXXCOMPILE += -fno-exceptions
+beginend.lo : LTCXXCOMPILE += -fno-exceptions
 
 if ARCH_FUTEX
 libitm_la_SOURCES += futex.cc
--- a/libitm/Makefile.in	2011-12-20 13:47:57.000000000 +0100
+++ b/libitm/Makefile.in	2011-12-22 09:14:29.466329944 +0100
@@ -1278,6 +1278,8 @@ vpath % $(strip $(search_path))
 @LIBITM_BUILD_VERSIONED_SHLIB_SUN_TRUE@@LIBITM_BUILD_VERSIONED_SHLIB_TRUE@	 > $@ || (rm -f $@ ; exit 1)
 @ARCH_X86_TRUE@x86_sse.lo : XCFLAGS += -msse
 @ARCH_X86_AVX_TRUE@x86_avx.lo : XCFLAGS += -mavx
+beginend.lo : CXXCOMPILE += -fno-exceptions
+beginend.lo : LTCXXCOMPILE += -fno-exceptions
 
 all-local: $(STAMP_GENINSRC)
 
