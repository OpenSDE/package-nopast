# --- SDE-COPYRIGHT-NOTE-BEGIN ---
# This copyright note is auto-generated by ./scripts/Create-CopyPatch.
#
# Filename: package/.../unrtf/unrtf-0001-sysconfdir.patch
# Copyright (C) 2013 The OpenSDE Project
#
# More information can be found in the files COPYING and README.
#
# This patch file is dual-licensed. It is available under the license the
# patched project is licensed under, as long as it is an OpenSource license
# as defined at http://www.opensource.org/ (e.g. BSD, X11) or under the terms
# of the GNU General Public License as published by the Free Software
# Foundation; either version 2 of the License, or (at your option) any later
# version.
# --- SDE-COPYRIGHT-NOTE-END ---

Do not hardcode CONFIG_DIR and DEFAULT_UNRTF_SEARCH_PATH but instead
use sysconfdir/unrtf for the configuration files.

--- a/outputs/Makefile.am	2013-02-06 12:27:40.302382572 +0100
+++ b/outputs/Makefile.am	2013-02-06 12:27:52.269353575 +0100
@@ -1,2 +1,2 @@
-outputsdir = ${libdir}/${PACKAGE}
+outputsdir = ${sysconfdir}/${PACKAGE}
 dist_outputs_DATA = html.conf latex.conf rtf.conf text.conf vt.conf
--- a/outputs/Makefile.in	2013-02-06 12:08:17.617866161 +0100
+++ b/outputs/Makefile.in	2013-02-06 12:27:35.262829752 +0100
@@ -165,7 +165,7 @@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-outputsdir = ${libdir}/${PACKAGE}
+outputsdir = ${sysconfdir}/${PACKAGE}
 dist_outputs_DATA = html.conf latex.conf rtf.conf text.conf vt.conf
 all: all-am
 
--- a/src/Makefile.am	2013-02-06 12:32:39.616770354 +0100
+++ b/src/Makefile.am	2013-02-06 12:36:07.266938713 +0100
@@ -19,3 +19,6 @@
 		util.c util.h         \
 		word.c word.h
 
+AM_CFLAGS = -DCONFIG_DIR=\"@sysconfdir@/@PACKAGE@/\" \
+	     -DDEFAULT_UNRTF_SEARCH_PATH=\"@sysconfdir@/@PACKAGE@/\"
+
--- a/src/Makefile.in	2013-02-06 12:39:44.104431014 +0100
+++ b/src/Makefile.in	2013-02-06 12:46:09.967278842 +0100
@@ -180,6 +180,9 @@
 		util.c util.h         \
 		word.c word.h
 
+AM_CFLAGS = -DCONFIG_DIR=\"@sysconfdir@/@PACKAGE@/\" \
+	    -DDEFAULT_UNRTF_SEARCH_PATH=\"@sysconfdir@/@PACKAGE@/\"
+
 all: all-am
 
 .SUFFIXES:
--- a/charmaps/Makefile.am	2013-02-06 13:07:51.659959572 +0100
+++ b/charmaps/Makefile.am	2013-02-06 13:14:54.535714791 +0100
@@ -1,2 +1,2 @@
-outputsdir = ${libdir}/${PACKAGE}
+outputsdir = ${sysconfdir}/${PACKAGE}
 dist_outputs_DATA = SYMBOL.charmap
--- a/charmaps/Makefile.in	2013-02-06 13:07:54.651705572 +0100
+++ b/charmaps/Makefile.in	2013-02-06 13:12:53.094230824 +0100
@@ -165,7 +165,7 @@
 top_build_prefix = @top_build_prefix@
 top_builddir = @top_builddir@
 top_srcdir = @top_srcdir@
-outputsdir = ${libdir}/${PACKAGE}
+outputsdir = ${sysconfdir}/${PACKAGE}
 dist_outputs_DATA = SYMBOL.charmap
 all: all-am
 
--- a/src/main.h	2013-02-06 11:45:31.282823320 +0100
+++ b/src/main.h	2013-02-06 12:55:58.137108127 +0100
@@ -47,7 +47,6 @@
 #include "output.h"
 #endif
 
-#define CONFIG_DIR "/usr/local/lib/unrtf/"
 #define DEFAULT_OUTPUT "html"
 
 extern OutputPersonality *op;
--- a/src/path.h	2013-02-06 12:05:52.550324089 +0100
+++ b/src/path.h	2013-02-06 12:56:22.043078354 +0100
@@ -1,4 +1,3 @@
-#define DEFAULT_UNRTF_SEARCH_PATH	"/usr/local/lib/unrtf/"
 
 char	*search_path;
 int	n_path_dirs;
